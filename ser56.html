import React, { useState, useEffect } from 'react';
import { Heart, Star, Sparkles, Sun, Flower, Coffee, Music, Book, Smile, Gift } from 'lucide-react';

const HealingCompanion = () => {
  const [currentSection, setCurrentSection] = useState('affirmations');
  const [affirmationIndex, setAffirmationIndex] = useState(0);
  const [completedActivities, setCompletedActivities] = useState([]);

  const affirmations = [
    "You are worthy of love that sees and celebrates all of you",
    "Your heart is healing, and every day you grow stronger",
    "This ending is making space for something beautiful to begin",
    "You are complete and whole, exactly as you are",
    "Your worth isn't determined by any relationship",
    "You deserve someone who chooses you every single day",
    "This pain is temporary, but your strength is permanent",
    "You are allowed to feel sad and hopeful at the same time",
    "Every breath you take is a step toward your new beginning",
    "You are brave, beautiful, and unstoppable"
  ];

  const selfCareActivities = [
    { icon: Coffee, title: "Treat Yourself", desc: "Make your favorite drink and savor every sip", color: "bg-amber-100 text-amber-800" },
    { icon: Music, title: "Dance It Out", desc: "Put on your favorite song and dance like nobody's watching", color: "bg-pink-100 text-pink-800" },
    { icon: Book, title: "Read Something New", desc: "Start that book you've been meaning to read", color: "bg-blue-100 text-blue-800" },
    { icon: Flower, title: "Nature Walk", desc: "Take a gentle walk and notice something beautiful", color: "bg-green-100 text-green-800" },
    { icon: Heart, title: "Call Someone", desc: "Reach out to someone who makes you smile", color: "bg-purple-100 text-purple-800" },
    { icon: Star, title: "Dream Big", desc: "Write down 3 things you're excited about for your future", color: "bg-indigo-100 text-indigo-800" }
  ];

  const movingOnTips = [
    "Feel your feelings fully - they're valid and temporary",
    "Focus on rediscovering who you are outside of the relationship",
    "Surround yourself with people who remind you of your worth",
    "Create new routines and experiences that bring you joy",
    "Be patient with yourself - healing isn't linear",
    "Celebrate small victories and moments of happiness",
    "Trust that this experience is teaching you something valuable",
    "Remember: you're not broken, you're breaking open to grow"
  ];

  const encouragingQuotes = [
    "She believed she could, so she did.",
    "You are braver than you believe, stronger than you seem, and more loved than you know.",
    "The woman who follows the crowd will usually go no further than the crowd. The woman who walks alone is likely to find herself in places no one has ever been before.",
    "You have been assigned this mountain to show others it can be moved.",
    "Your current chapter is not your final story.",
    "She remembered who she was and the game changed."
  ];

  useEffect(() => {
    const interval = setInterval(() => {
      setAffirmationIndex((prev) => (prev + 1) % affirmations.length);
    }, 8000);
    return () => clearInterval(interval);
  }, []);

  const completeActivity = (index) => {
    setCompletedActivities(prev => [...prev, index]);
  };

  const sections = {
    affirmations: {
      title: "Daily Affirmations",
      icon: Heart,
      color: "bg-pink-500"
    },
    selfcare: {
      title: "Self-Care Menu",
      icon: Sparkles,
      color: "bg-purple-500"
    },
    tips: {
      title: "Moving Forward",
      icon: Sun,
      color: "bg-yellow-500"
    },
    quotes: {
      title: "Inspiration",
      icon: Star,
      color: "bg-blue-500"
    }
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-blue-50 p-4">
      <div className="max-w-4xl mx-auto">
        {/* Header */}
        <div className="text-center mb-8">
          <div className="flex justify-center items-center gap-2 mb-4">
            <Heart className="w-8 h-8 text-pink-500 animate-pulse" />
            <h1 className="text-3xl font-bold bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent">
              Your Healing Heart Companion
            </h1>
            <Heart className="w-8 h-8 text-pink-500 animate-pulse" />
          </div>
          <p className="text-gray-600 text-lg">
            A gentle space for healing, growth, and rediscovering your beautiful self âœ¨
          </p>
        </div>

        {/* Navigation */}
        <div className="flex flex-wrap justify-center gap-2 mb-8">
          {Object.entries(sections).map(([key, section]) => {
            const IconComponent = section.icon;
            return (
              <button
                key={key}
                onClick={() => setCurrentSection(key)}
                className={`flex items-center gap-2 px-4 py-2 rounded-full font-medium transition-all transform hover:scale-105 ${
                  currentSection === key
                    ? `${section.color} text-white shadow-lg`
                    : 'bg-white text-gray-700 hover:bg-gray-50 shadow-md'
                }`}
              >
                <IconComponent className="w-4 h-4" />
                {section.title}
              </button>
            );
          })}
        </div>

        {/* Content */}
        <div className="bg-white rounded-2xl shadow-xl p-8">
          {currentSection === 'affirmations' && (
            <div className="text-center">
              <div className="mb-8">
                <div className="inline-flex items-center justify-center w-20 h-20 bg-pink-100 rounded-full mb-6">
                  <Heart className="w-10 h-10 text-pink-500" />
                </div>
                <div className="bg-gradient-to-r from-pink-100 to-purple-100 rounded-2xl p-8 mb-6">
                  <p className="text-xl font-medium text-gray-800 leading-relaxed">
                    "{affirmations[affirmationIndex]}"
                  </p>
                </div>
                <div className="flex justify-center gap-2 mb-4">
                  {affirmations.map((_, index) => (
                    <div
                      key={index}
                      className={`w-2 h-2 rounded-full transition-all ${
                        index === affirmationIndex ? 'bg-pink-500' : 'bg-gray-300'
                      }`}
                    />
                  ))}
                </div>
                <button
                  onClick={() => setAffirmationIndex((prev) => (prev + 1) % affirmations.length)}
                  className="bg-pink-500 text-white px-6 py-2 rounded-full hover:bg-pink-600 transition-colors"
                >
                  Next Affirmation
                </button>
              </div>
            </div>
          )}

          {currentSection === 'selfcare' && (
            <div>
              <div className="text-center mb-8">
                <Sparkles className="w-12 h-12 text-purple-500 mx-auto mb-4" />
                <h2 className="text-2xl font-bold text-gray-800 mb-2">Self-Care Menu</h2>
                <p className="text-gray-600">Choose an activity that feels good to you right now</p>
              </div>
              <div className="grid md:grid-cols-2 gap-4">
                {selfCareActivities.map((activity, index) => {
                  const IconComponent = activity.icon;
                  const isCompleted = completedActivities.includes(index);
                  return (
                    <div
                      key={index}
                      className={`p-6 rounded-xl border-2 transition-all hover:shadow-lg ${
                        isCompleted 
                          ? 'bg-green-50 border-green-200' 
                          : 'bg-gray-50 border-gray-200 hover:border-purple-300'
                      }`}
                    >
                      <div className="flex items-start gap-4">
                        <div className={`p-3 rounded-lg ${activity.color}`}>
                          <IconComponent className="w-6 h-6" />
                        </div>
                        <div className="flex-1">
                          <h3 className="font-semibold text-gray-800 mb-2">{activity.title}</h3>
                          <p className="text-gray-600 text-sm mb-4">{activity.desc}</p>
                          <button
                            onClick={() => completeActivity(index)}
                            disabled={isCompleted}
                            className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${
                              isCompleted
                                ? 'bg-green-500 text-white cursor-not-allowed'
                                : 'bg-purple-500 text-white hover:bg-purple-600'
                            }`}
                          >
                            {isCompleted ? 'âœ“ Completed' : 'Do This'}
                          </button>
                        </div>
                      </div>
                    </div>
                  );
                })}
              </div>
              {completedActivities.length > 0 && (
                <div className="mt-6 text-center p-4 bg-green-50 rounded-xl">
                  <Smile className="w-8 h-8 text-green-500 mx-auto mb-2" />
                  <p className="text-green-700 font-medium">
                    Amazing! You've completed {completedActivities.length} self-care activities! ðŸŒŸ
                  </p>
                </div>
              )}
            </div>
          )}

          {currentSection === 'tips' && (
            <div>
              <div className="text-center mb-8">
                <Sun className="w-12 h-12 text-yellow-500 mx-auto mb-4" />
                <h2 className="text-2xl font-bold text-gray-800 mb-2">Moving Forward with Grace</h2>
                <p className="text-gray-600">Gentle reminders for your healing journey</p>
              </div>
              <div className="space-y-4">
                {movingOnTips.map((tip, index) => (
                  <div key={index} className="flex items-start gap-4 p-4 bg-yellow-50 rounded-xl">
                    <div className="w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
                      <span className="text-yellow-600 font-bold text-sm">{index + 1}</span>
                    </div>
                    <p className="text-gray-700 leading-relaxed">{tip}</p>
                  </div>
                ))}
              </div>
            </div>
          )}

          {currentSection === 'quotes' && (
            <div>
              <div className="text-center mb-8">
                <Star className="w-12 h-12 text-blue-500 mx-auto mb-4" />
                <h2 className="text-2xl font-bold text-gray-800 mb-2">Words of Inspiration</h2>
                <p className="text-gray-600">Powerful reminders of your inner strength</p>
              </div>
              <div className="grid gap-6">
                {encouragingQuotes.map((quote, index) => (
                  <div key={index} className="bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-xl">
                    <p className="text-lg text-gray-800 font-medium italic text-center leading-relaxed">
                      "{quote}"
                    </p>
                  </div>
                ))}
              </div>
            </div>
          )}
        </div>

        {/* Footer Message */}
        <div className="text-center mt-8 p-6 bg-white rounded-xl shadow-lg">
          <Gift className="w-8 h-8 text-pink-500 mx-auto mb-3" />
          <p className="text-gray-700 font-medium mb-2">Remember, beautiful soul:</p>
          <p className="text-gray-600 mb-4">
            You are not broken. You are not too much. You are not not enough. 
            You are healing, growing, and becoming exactly who you're meant to be. ðŸ’•
          </p>
        </div>

        {/* Creator Credit */}
        <div className="text-center mt-4 pb-4">
          <p className="text-gray-400 text-sm">
            Created by Aarav
          </p>
        </div>
      </div>
    </div>
  );
};

export default HealingCompanion;